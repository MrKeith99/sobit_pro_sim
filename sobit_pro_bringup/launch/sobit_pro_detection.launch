<launch>
  <!--SSD objects detection-->
  <group ns = "ssd_object_detect">
    <!--rosparam command="load" file="$(find ssd_node)/config/face_detect.yaml"/-->

    <param name="ssd_img_show_flag" type="bool" value="true"/>
    <param name="ssd_execute_default" type="bool" value="false"/>
    <param name="ssd_pub_result_image" type="bool" value="true"/>
    <param name="needs_time_stamp" type="bool" value="false"/>

    <param name="ssd_image_topic_name" type="str" value="/rgb/image_raw"/>
    <param name="ssd_cloud_topic_name" type="str" value="/points2"/>
    <param name="ssd_camera_frame_name" type="str" value="head_camera_base"/>
    <param name="ssd_camera_width_size" type="int" value="1280"/>

    <param name="ssd_inScaleFactor" type="double" value="1.0"/>
    <param name="ssd_confidenceThreshold" type="double" value="0.5"/>

    <param name="ssd_prototxt_name" type="str" value="face.prototxt"/>
    <param name="ssd_caffemodel_name" type="str" value="face.caffemodel"/>
    <param name="ssd_classNames_file" type="str" value="face_names.txt"/>

    <node pkg="ssd_node" type="ssd_node" name="ssd_node" output="screen"/>
    <node pkg="ssd_node" type="ssd_tf_broadcaster" name="ssd_tf_broadcaster" output="screen"/>
  </group>

  <!--YOLO objects detection-->
  <group ns = "objects_detection_yolo">
    <!--YOLOv3 2D-->
    <node name="pytorch_yolo_node" pkg="pytorch_yolo" type="run_yolo.py" output="screen">
      <remap from="/objects_detection_yolo/objects_rect" to="/objects_rect"/>
      <remap from="/objects_detection_yolo/detect_result" to="/detect_result"/>
      <remap from="/objects_detection_yolo/detect_list" to="/detect_list"/>
    </node>
    <param name="net_type" type="string" value="$(find pytorch_yolo)/config/opl2020.cfg"/>
    <param name="model_path" type="string" value="$(find pytorch_yolo)/weights/opl2020_44000.weights"/>
    <param name="label_path" type="string" value="$(find pytorch_yolo)/data/opl2020.names"/>
    <param name="img_size" type="int" value="416"/>
    <param name="min_prob" type="double" value="0.8"/>
    <param name="iou_th" type="double" value="0.4"/>
    <param name="max_framerate" type="double" value="1.0"/>
    <param name="show_result" type="bool" value="true"/>
    <param name="sub_image_topic_name" type="string" value="/rgb/image_raw"/>
    <param name="initial_predict" type="bool" value="false"/> <!--false-->
  </group>

  <!--YOLOv3 3D-->
  <node name="object_pose_publisher_node" pkg="sobit_common_library" type="object_pose_publisher" output="screen"/>
  <param name="obj_under_rate" type="double" value="0.6"/>
  <param name="obj_top_rate" type="double" value="0.9"/>
  <param name="map_frame_name" type="string" value="/odom"/>
  <param name="base_frame_name" type="string" value="/base_footprint"/>
  <param name="cloud_topic_name" type="string" value="/points2"/>
  <param name="max_distance_to_object" type="double" value="8.0"/>
  <param name="image_width" type="int" value="1280"/>
  


</launch>